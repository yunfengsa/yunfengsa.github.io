!function(t){function e(e){for(var o,c,a=e[0],u=e[1],s=e[2],f=0,p=[];f<a.length;f++)c=a[f],r[c]&&p.push(r[c][0]),r[c]=0;for(o in u)Object.prototype.hasOwnProperty.call(u,o)&&(t[o]=u[o]);for(l&&l(e);p.length;)p.shift()();return i.push.apply(i,s||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],o=!0,a=1;a<n.length;a++){var u=n[a];0!==r[u]&&(o=!1)}o&&(i.splice(e--,1),t=c(c.s=n[0]))}return t}var o={},r={0:0},i=[];function c(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=t,c.c=o,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)c.d(n,o,function(e){return t[e]}.bind(null,o));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="";var a=window.webpackJsonp=window.webpackJsonp||[],u=a.push.bind(a);a.push=e,a=a.slice();for(var s=0;s<a.length;s++)e(a[s]);var l=u;i.push([75,1]),n()}({70:function(t,e,n){var o=n(71);"string"==typeof o&&(o=[[t.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(73)(o,r);o.locals&&(t.exports=o.locals)},71:function(t,e,n){(e=t.exports=n(72)(!0)).push([t.i,".canvas_moving-block_23nVpzSgWFKFQiUWNUkADJ {\n  position: absolute;\n  background-color: red; }\n","",{version:3,sources:["canvas.scss"],names:[],mappings:"AAAA;EACE,mBAAmB;EACnB,sBAAsB,EAAE",file:"canvas.scss",sourcesContent:[".moving-block {\n  position: absolute;\n  background-color: red; }\n"],sourceRoot:""}]),e.locals={"moving-block":"canvas_moving-block_23nVpzSgWFKFQiUWNUkADJ"}},75:function(t,e,n){"use strict";n.r(e);var o=n(0),r=n.n(o),i=n(45),c=n.n(i);n(26),n(31),n(41),n(42),n(43),n(68);function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),o.forEach(function(e){u(t,e,n[e])})}return t}function u(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var s=function(t){t.type;var e=t.startPosition,n=t.endPosition;return e&&n?r.a.createElement("div",{style:a({cursor:"pointer",position:"absolute",backgroundColor:"red",zIndex:999,left:Math.min(e.x,n.x),top:Math.min(e.y,n.y),width:Math.abs(e.x-n.x),height:Math.abs(e.y-n.y)},t.style)}):null};n(70);function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function p(t,e){return!e||"object"!==l(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function b(t,e){return(b=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var h=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=p(this,y(e).call(this,t))).onTouchStart=function(t){console.log(n.getXYinCanvas(t)),n.startPosition=n.getXYinCanvas(t)},n.onTouchMove=function(t){if(n.startPosition){n.endPosition=n.getXYinCanvas(t);var e={startPosition:n.startPosition,endPosition:n.endPosition};n.recList.length<1?n.recList.push(e):(console.log("change "),n.recList[n.recList.length-1]=e),n.startPosition&&n.drawRec(n.startPosition,n.endPosition)}},n.onTouchEnd=function(t){n.endPosition=n.getXYinCanvas(t),n.startPosition&&n.drawRec(n.startPosition,n.endPosition),n.startPosition=null,n.recList.push({}),n.forceUpdate()},n.getXYinCanvas=function(t){var e=canvas.getBoundingClientRect(),n=e.left,o=e.top;return{x:t.clientX-n,y:t.clientY-o}},n.drawRec=function(t,e){n.context=canvas.getContext("2d"),n.context.beginPath(),n.context.clearRect(0,0,800,600),n.context.fillStyle="gray",n.context.fillRect(0,0,800,600),n.context.closePath(),n.context.setLineDash([10,10]),n.context.strokeStyle="red",n.context.lineWidth=2,n.context.save();var o=!0,r=!1,i=void 0;try{for(var c,a=n.recList[Symbol.iterator]();!(o=(c=a.next()).done);o=!0){var u=c.value,s=u.startPosition,l=u.endPosition;s&&l&&n.context.rect(s.x,s.y,l.x-s.x,l.y-s.y)}}catch(t){r=!0,i=t}finally{try{o||null==a.return||a.return()}finally{if(r)throw i}}n.context.stroke(),n.context.restore()},n.canvas,n.context,n.recList=[],n.circleList=[],n}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&b(t,e)}(e,r.a.Component),n=e,(o=[{key:"componentDidMount",value:function(){this.canvas=document.getElementById("canvas"),this.canvas.width=800,this.canvas.height=600,this.context=canvas.getContext("2d"),this.context.fillStyle="gray",this.context.fillRect(0,0,800,600)}},{key:"render",value:function(){return r.a.createElement("div",{id:"canvas-warp",style:{cursor:"default"},onMouseDown:this.onTouchStart,onMouseMove:this.onTouchMove,onMouseUp:this.onTouchEnd,onTouchStart:this.onTouchStart,onTouchMove:this.onTouchMove,onTouchEnd:this.onTouchEnd},r.a.createElement("canvas",{id:"canvas",style:{left:0,top:0,position:"absolute",width:800,height:600}},"你的浏览器居然不支持Canvas？！赶快换一个吧！！"),r.a.createElement(s,null),this.recList.map(function(t){return r.a.createElement(s,t)}))}}])&&f(n.prototype,o),i&&f(n,i),e}();function v(t){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function d(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function g(t,e){return!e||"object"!==v(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function m(t){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function P(t,e){return(P=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var x=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),g(this,m(e).call(this,t))}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&P(t,e)}(e,r.a.Component),n=e,(o=[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(h,null))}}])&&d(n.prototype,o),i&&d(n,i),e}();c.a.render(r.a.createElement(x,null),document.getElementById("root"))}});